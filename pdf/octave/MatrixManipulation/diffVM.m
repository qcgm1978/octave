rehashclcclear allfunction ret=diffVorM(vm)  if(isvector(vm))  mat=[];  for i=1:length(vm)    if(i+1<=length(vm))    mat(i)=vm(i+1)-vm(i);  endifendforelse  mat=[];  for i=1:columns(vm)    col=vm(:,i);    for(m=1:rows(col))    if(m+1<=rows(col))    mat(m,i)=col(m+1)-col(m);  endifendforendforendifret=mat;endfunctionV=[1 2 8 4];isequal(diff(V),diffVorM(V),[1 6 -4])A=ones(2,2);B=diffVorM(A);isequal(diff(A),B,[0 0])A(:,3)=[5 ;-5];isequal(diff(A),cols=diffVorM(A))isequal(isinf ([13, Inf, NA, NaN]),[0  1 0 0])isequal(isnan ([13, Inf, NA, NaN]),[0 0 1 1])isequal(isfinite ([13, Inf, NA, NaN]),[1 0 0 0])isequal(isfinite(NA),isinf(NA),0)function [err,yi,mat]=commonSize(mat1,arg1)matSize=size(mat1);mat=zeros(matSize);mat(:)=arg1;yi=mat1;err=0;endfunction  [err, a, b] = common_size ([1 2; 3 4], 5);[err1, a1, b1] = commonSize ([1 2; 3 4], 5);isequal(err,err1,0 )isequal(a,a1,[1 2;3 4] )isequal(b1,b,[5 5;5 5] )function singleCR=findIndices(mat)singleCR=[];n=1;for i=1:numel(mat)if(mat(i)!=0)singleCR(n,1)=i;n++;endifendforif(isrow(mat))singleCR=transpose(singleCR);endifendfunction  isequal(find (eye (2)),findIndices(eye(2)),[1;4])